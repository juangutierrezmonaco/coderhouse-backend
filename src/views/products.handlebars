<main class="main-container">

  <div>
    <h2>¡Bienvenido!</h2>
    <h3>Datos del usuario actual</h3>
    <div>
      <div>Nombre: {{user.first_name}}</div>
      <div>Apellido: {{user.last_name}}</div>
      <div>Edad: {{user.age}}</div>
      <div>Email: {{user.email}}</div>
      {{#compare user.role "==" 'admin'}}
      <div>Rol: Administrador</div>
      {{else}}
      <div>Rol: Usuario</div>
      {{/compare }}
      <div>Id: {{user._id}}</div>
    </div>
  </div>


  <h1>Productos</h1>
  <ul class="p-0">
    {{#each products}}
      <li id={{this._id}}>
        <div>Título: {{this.title}}</div>
        <div>Descripción: {{this.description}}</div>
        <div>Código: {{this.code}}</div>
        <div>Precio: {{this.price}}</div>
        <div>Stock: {{this.stock}}</div>
        <div>Categorías: {{this.categories}}</div>
        {{#if this.status}}
          <div>Estado: Activo</div>
        {{else}}
          <div>Estado: Inactivo</div>
        {{/if}}

        <form id="addToCartForm">
          <div>¿Querés agregarlo al carrito?</div>
          <input type="text" placeholder="ID del carrito" name="cart-id" required>
          <input type="number" placeholder="Cantidad" name="quantity" required>
          <button class="btn btn-success">Agregar al carrito</button>
        </form>

        <hr />
      </li>
    {{/each}}
  </ul>

  <nav aria-label="Page navigation">
    <ul class="pagination d-flex flex-wrap">
      <li class="page-item {{#compare this.page "==" ../page}}active{{/compare }}">
      <li class="page-item {{#isFalsey prevLink}}disabled{{/isFalsey}}">
        <a class="page-link" href={{prevLink}} aria-label="Previous">
          <span aria-hidden="true">&laquo;</span>
        </a>
      </li>

    {{#each links}}
    <li>{{currentPage}}</li>
      <li class="page-item {{#compare this.page "==" ../page}}active{{/compare }}">
        <a class="page-link" href={{this.link}}>{{this.page}}</a>
      </li>
    {{/each}}

      <li class="page-item {{#isFalsey nextLink}}disabled{{/isFalsey}}">
        <a class="page-link" href={{nextLink}} aria-label="Next">
          <span aria-hidden="true">&raquo;</span>
        </a>
      </li>
    </ul>
  </nav>
</main>

<script src="/js/products.js"></script>